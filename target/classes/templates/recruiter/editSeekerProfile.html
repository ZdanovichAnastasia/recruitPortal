<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RecruitPortal</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/showAll.css">
    <link rel="stylesheet" type="text/css" href="/css/input.css">
    <script src="/js/headers.js"></script>
</head>

<body>
<script>setHeader("рекрутер");</script>
<div class="container">
    <form  th:action="@{/logout}" method="post">
        <div class="login">
            <button style="position: fixed; margin-left: 450px;  z-index: 30;" class="btn_auto">Выйти</button>
        </div>
    </form>
</div>

<div class="content">
    <div class="input-window">
        <form method="post" th:action="@{/profile/{id}(id=${activity.profile.getId()})}" th:object="${activity}">
            <input type="hidden" th:field="*{id}">
            <h3>Личная информация</h3>
            <input type="text" th:field="*{profile.firstName}"  placeholder="Имя">
            <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.firstName')}" th:errors="*{profile.firstName}">error</p>

            <input type="text" th:field="*{profile.lastName}"  placeholder="Фамилия">
            <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.lastName')}" th:errors="*{profile.lastName}">error</p>

            <input type="tel" th:field="*{profile.phone}" placeholder="Номер телефона">
            <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.phone')}" th:errors="*{profile.phone}">error</p>

            <input type="email" th:field="*{profile.email}" placeholder="Email">
            <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.email')}" th:errors="*{profile.email}">error</p>

            <div class="gender-sel">
                <label>Ваш пол: </label>
                <input type="radio" th:field="*{profile.gender}" id="m" value="мужчина">
                <label for="m">мужчина</label>
                <input type="radio" th:field="*{profile.gender}" id="wm" value="женщина">
                <label for="wm">женщина</label>
                <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.gender')}" th:errors="*{profile.gender}">error</p>
            </div>

            <input type="text" th:field="*{profile.age}" placeholder="Возраст">
            <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.age')}" th:errors="*{profile.age}">error</p>


            <h3>Образование</h3>
            <div class="personal_info" th:if="${!activity.profile.educations.isEmpty() && activity.profile.educations != null}">
                <div class="values" th:each="education, state : ${activity.profile.educations}">
                    <input type="hidden" th:field="*{profile.educations[__${state.index}__].id}">
                    <input type="text" th:field="*{profile.educations[__${state.index}__].university}" placeholder="Универ">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.educations[__${state.index}__].university')}" th:errors="*{profile.educations[__${state.index}__].university}">error</p>

                    <input type="text" th:field="*{profile.educations[__${state.index}__].speciality}" placeholder="Специальность">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.educations[__${state.index}__].speciality')}" th:errors="*{profile.educations[__${state.index}__].speciality}">error</p>

                    <input type="text" th:field="*{profile.educations[__${state.index}__].admissionYear}" placeholder="Начало обучения">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.educations[__${state.index}__].admissionYear')}" th:errors="*{profile.educations[__${state.index}__].admissionYear}">error</p>

                    <input type="text" th:field="*{profile.educations[__${state.index}__].graduationYear}" placeholder="Конец обучения">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.educations[__${state.index}__].graduationYear')}" th:errors="*{profile.educations[__${state.index}__].graduationYear}">error</p>
                </div>
                <br/>
            </div>

            <h3>Опыт</h3>
            <div class="personal_info" th:if="${!activity.profile.experiences.isEmpty() && activity.profile.experiences != null}">
                <div class="values" th:each="experience, state : ${activity.profile.experiences}">
                    <input type="hidden" th:field="*{profile.experiences[__${state.index}__].id}">
                    <input type="text" th:field="*{profile.experiences[__${state.index}__].companyName}" placeholder="Компания">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.experiences[__${state.index}__].companyName')}" th:errors="*{profile.experiences[__${state.index}__].companyName}">error</p>

                    <input type="text" th:field="*{profile.experiences[__${state.index}__].jobTitle}" placeholder="Должность">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.experiences[__${state.index}__].jobTitle')}" th:errors="*{profile.experiences[__${state.index}__].jobTitle}">error</p>
                    <div class="gender-sel">
                        <label>Время работы: </label>
                        <input type="radio" th:field="*{profile.experiences[__${state.index}__].timeOfExperience}" id="1" value="меньше года">
                        <label for="1">меньше года</label>
                        <input type="radio" th:field="*{profile.experiences[__${state.index}__].timeOfExperience}" id="13" value="от 1-2 лет">
                        <label for="13">от 1-3 лет</label>
                        <input type="radio" th:field="*{profile.experiences[__${state.index}__].timeOfExperience}" id="35" value="от 3-5 лет">
                        <label for="35">от 3-5 лет</label>
                        <input type="radio" th:field="*{profile.experiences[__${state.index}__].timeOfExperience}" id="5" value="больше 5 лет">
                        <label for="5">больше 5 лет</label>
                        <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.experiences[__${state.index}__].timeOfExperience')}" th:errors="*{profile.experiences[__${state.index}__].timeOfExperience}">error</p>
                    </div>
                </div>
            </div>
            <div class="personal_info" th:if="${!activity.post.skills.isEmpty() && activity.post.skills != null}">
                <div class="values" th:each="skill, state : ${activity.post.skills}">
                    <p th:text="${skill.skillSet.skillSetName}"></p>
                    <div class="cont">
                        <p>Требуемый уровень</p>
                        <div class="skills name" th:style="'width: '+${skill.skillLevel}+'%; background-color: #21C2F8;'" th:text="${skill.skillLevel}+'%'"></div>
                    </div>
                    <input type="hidden" th:field="*{post.skills[__${state.index}__].skillSet}">
                    <input type="text" th:field="*{profile.seekerSkills[__${state.index}__].skillLevel}"  placeholder="Уровень">
                    <p style="color:red; font-size: 14px;" th:if="${#fields.hasErrors('profile.seekerSkills[__${state.index}__].skillLevel')}" th:errors="*{profile.seekerSkills[__${state.index}__].skillLevel}">error</p>
                </div>
            </div>
            <!--SKILLS-->

            <button>Сохранить</button>
        </form>
    </div>
</div>
</body>

</html>